<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zero.dao.RoomDao">

    <insert id="insertRoom">
        insert into room
        values (#{id},#{type},#{floor},#{status})
    </insert>

    <delete id="deleteRoom">
        delete from room r
        where #{roomId}=r.id
    </delete>

    <select id="selectRoomById" resultType="com.zero.pojo.Room">
        select * from room r
        where id=#{roomId}
    </select>
    <select id="selectRoomByType" resultType="com.zero.pojo.Room" parameterType="com.zero.pojo.RoomType">
        select * from room r
        where type=#{name}
    </select>

    <select id="selectRoomByStatus" resultType="com.zero.pojo.Room">
        select * from room r
        where status=#{roomStatus}
    </select>

    <select id="selectRoomByFloor" resultType="com.zero.pojo.Room">
        select * from room r
        where floor=#{name}
    </select>

    <select id="selectRoomByPrice" resultType="com.zero.pojo.Room">
        # 数据库表没完善呢
        select * from room r
        where 1=0
    </select>

    <select id="selectRoom" resultType="com.zero.pojo.Room">
        select * from room r
        <where>
        <if test="room!=null">
            <if test="room.id!=null">
                and id=#{room.id}
            </if>
            <if test="room.type!=null and room.type!=''">
                and type=#{room.type}
            </if>
            <if test="room.floor!=null and room.floor.name!=''">
                and floor=#{room.floor.name}
            </if>
            <if test="room.status!=null and room.status!=''">
                and `status`=#{room.status}
            </if>
        </if>
        </where>
    </select>

    <update id="UpdateRoom">
        update room r
        set type=#{type},floor=#{floor},status=#{status}
        where id=#{id}
    </update>

</mapper>